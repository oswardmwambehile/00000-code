{% extends "users/base.html" %}
{% load static %}

{% block content %}
  {% include "users/sidebar.html" %}
  <div class="main-panel">
    <div class="main-header">
      <div class="main-header-logo">
        <div class="logo-header" data-background-color="dark">
          <a href="index.html" class="logo">
            <img src="{% static 'assets/img/kaiadmin/logo_light.svg' %}" alt="navbar brand" class="navbar-brand" height="20" />
          </a>
          <div class="nav-toggle">
            <button class="btn btn-toggle toggle-sidebar"><i class="gg-menu-right"></i></button>
            <button class="btn btn-toggle sidenav-toggler"><i class="gg-menu-left"></i></button>
          </div>
          <button class="topbar-toggler more"><i class="gg-more-vertical-alt"></i></button>
        </div>
      </div>
      {% include "users/nav.html" %}
    </div>

    <div class="container">
      <div class="page-inner py-4">
        <h2 class="fw-bold mb-4">My Profile</h2>

        <!-- Avatar + Basic Info -->
        <div class="d-flex align-items-center mb-4">
          <div class="avatar">
            {{ user.first_name|slice:":1" }}{{ user.last_name|slice:":1" }}
          </div>
          <div class="ms-3">
            <h3 class="mb-1"> Full Name: {{ user.get_full_name|default:"User" }}</h3>
            <p class="text-muted mb-0"><i class="fas fa-briefcase me-1 text-primary"></i> Position: {{ user.position|default:"-" }}</p>
          </div>
        </div>

        <!-- Info List -->
        <ul class="list-unstyled">
          <li class="info-item"><i class="fas fa-envelope text-primary me-2"></i> Email: {{ user.email }}</li>
          <li class="info-item"><i class="fas fa-map-marker-alt text-danger me-2"></i> Zone: {{ user.zone }}</li>
          <li class="info-item"><i class="fas fa-code-branch text-success me-2"></i> Branch: {{ user.branch }}</li>
          <li class="info-item"><i class="fas fa-phone text-warning me-2"></i> Contact: {{ user.contact }}</li>
          <li class="info-item"><i class="fas fa-calendar-alt text-info me-2"></i> Joined: {{ user.date_joined|date:"F j, Y" }}</li>
        </ul>
      </div>
    </div>
  </div>

  <!-- Styles -->
  <style>
    body, .main-panel, .page-inner, .container {
      background: #ffffff;
    }

    .avatar {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      background-color: #007bff;
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 32px;
      font-weight: 700;
    }

    .info-item {
      text-align: left;
      margin-bottom: 12px;
      font-size: 1rem;
      display: flex;
      align-items: center;
    }

    .info-item i {
      width: 20px;
    }
  </style>

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />
{% endblock %}
